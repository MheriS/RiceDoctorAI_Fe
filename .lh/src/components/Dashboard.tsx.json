{
    "sourceFile": "src/components/Dashboard.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1753252832619,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1753252832619,
            "name": "Commit-0",
            "content": "import { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';\r\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\r\nimport { Activity, AlertTriangle, CheckCircle, TrendingUp } from 'lucide-react';\r\n\r\nconst diseaseStats = [\r\n  { name: 'Blast', count: 18, color: '#ef4444' },\r\n  { name: 'Blight', count: 15, color: '#f59e0b' },\r\n  { name: 'Tungro', count: 12, color: '#8b5cf6' },\r\n  { name: 'Healthy', count: 35, color: '#10b981' },\r\n];\r\n\r\nconst monthlyData = [\r\n  { month: 'Jan', classifications: 20, diseases: 8, healthy: 12 },\r\n  { month: 'Feb', classifications: 35, diseases: 15, healthy: 20 },\r\n  { month: 'Mar', classifications: 28, diseases: 12, healthy: 16 },\r\n  { month: 'Apr', classifications: 42, diseases: 18, healthy: 24 },\r\n  { month: 'Mei', classifications: 38, diseases: 16, healthy: 22 },\r\n  { month: 'Jun', classifications: 51, diseases: 22, healthy: 29 },\r\n];\r\n\r\nconst diseaseBreakdown = [\r\n  { month: 'Jan', blast: 3, blight: 3, tungro: 2 },\r\n  { month: 'Feb', blast: 6, blight: 5, tungro: 4 },\r\n  { month: 'Mar', blast: 5, blight: 4, tungro: 3 },\r\n  { month: 'Apr', blast: 8, blight: 6, tungro: 4 },\r\n  { month: 'Mei', blast: 7, blight: 5, tungro: 4 },\r\n  { month: 'Jun', blast: 9, blight: 8, tungro: 5 },\r\n];\r\n\r\n// Custom tooltip components to avoid TypeScript issues\r\nconst CustomBarTooltip = ({ active, payload, label }: any) => {\r\n  if (active && payload && payload.length) {\r\n    return (\r\n      <div className=\"bg-card border border-border rounded-lg p-3 shadow-lg\">\r\n        <p className=\"font-medium\">{`${label}`}</p>\r\n        {payload.map((entry: any, index: number) => (\r\n          <p key={index} style={{ color: entry.color }}>\r\n            {`${entry.dataKey}: ${entry.value}`}\r\n          </p>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nconst CustomPieTooltip = ({ active, payload }: any) => {\r\n  if (active && payload && payload.length) {\r\n    const data = payload[0];\r\n    return (\r\n      <div className=\"bg-card border border-border rounded-lg p-3 shadow-lg\">\r\n        <p className=\"font-medium\">{`${data.name}: ${data.value}`}</p>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport function Dashboard() {\r\n  const totalClassifications = diseaseStats.reduce((sum, item) => sum + item.count, 0);\r\n  const healthyCount = diseaseStats.find(item => item.name === 'Healthy')?.count || 0;\r\n  const diseaseCount = totalClassifications - healthyCount;\r\n  const diseaseRate = ((diseaseCount / totalClassifications) * 100).toFixed(1);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm\">Total Klasifikasi</CardTitle>\r\n            <Activity className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl\">{totalClassifications}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              +12% dari bulan lalu\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm\">Penyakit Terdeteksi</CardTitle>\r\n            <AlertTriangle className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl\">{diseaseCount}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              {diseaseRate}% dari total klasifikasi\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm\">Tanaman Sehat</CardTitle>\r\n            <CheckCircle className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl\">{healthyCount}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              {(100 - parseFloat(diseaseRate)).toFixed(1)}% dari total klasifikasi\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm\">Akurasi Model</CardTitle>\r\n            <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl\">94.2%</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              +2.1% improvement\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Klasifikasi Bulanan</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <BarChart data={monthlyData}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"month\" />\r\n                <YAxis />\r\n                <Tooltip content={<CustomBarTooltip />} />\r\n                <Bar dataKey=\"classifications\" fill=\"hsl(var(--primary))\" name=\"Total\" />\r\n                <Bar dataKey=\"healthy\" fill=\"#10b981\" name=\"Sehat\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Distribusi Klasifikasi</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <PieChart>\r\n                <Pie\r\n                  data={diseaseStats}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  outerRadius={80}\r\n                  fill=\"#8884d8\"\r\n                  dataKey=\"count\"\r\n                  label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\r\n                >\r\n                  {diseaseStats.map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={entry.color} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip content={<CustomPieTooltip />} />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Tren Penyakit Bulanan</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <BarChart data={diseaseBreakdown}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis dataKey=\"month\" />\r\n              <YAxis />\r\n              <Tooltip content={<CustomBarTooltip />} />\r\n              <Bar dataKey=\"blast\" fill=\"#ef4444\" name=\"Blast\" />\r\n              <Bar dataKey=\"blight\" fill=\"#f59e0b\" name=\"Blight\" />\r\n              <Bar dataKey=\"tungro\" fill=\"#8b5cf6\" name=\"Tungro\" />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}"
        }
    ]
}